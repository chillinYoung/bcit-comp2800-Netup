<div class="body-details">
  <!-- main top navigation bar -->
  <%- include('../partials/navigation'); %>

  <figure class="figure-details-bg">
    <div class="figure-details-overtext">
      <span><%= events.eventName %></span>
    </div>
  </figure>

  <main class="main-details">
    <!-- header for pc window -->
    <div class="figure-details-header">
      <span><%= events.eventName %></span>
    </div>

    <div class="details-container">
      <!-- event image -->
      <div class="details-row">
        <img src="<%= events.image %>">
      </div>

      <!-- event details -->
      <div class="details-row">
        <span class="details-label">Topic:</span>
        <span class="details-contents"><%= events.eventTopic %></span>
      </div>

      <div class="details-row">
        <span class="details-label">Host:</span>
        <span class="details-contents"><%= events.hostName %></span>
      </div>
      
      <div class="details-row">
        <span class="details-label">Date:</span>
        <span class="details-contents"><%= events.eventDate %>, <%= events.eventTime %></span>
      </div>

      <div class="details-row">
        <span class="details-label">Duration:</span>
        <span class="details-contents"><%= events.duration %> hour(s)</span>
      </div>

      <div class="details-row">
        <span class="details-label">Description:</span>
        <span class="details-contents"><%= events.description %></span>
      </div>

      <!-- join button -->
      <% if (!currentUser) { %>
        <button class="details-join-btn" id="<%= events._id %>" name="<%= events._id %>" formmethod="post" formaction="/joinEvent" onclick="joinToJoinedDetail('<%= events.id %>')">Join</button>

      <% } else if (currentUser && (events.hostId != currentUser._id)) { %>
        <% if (currentUser.joinedEvents.includes(events.id)) { %>
          <button class="details-joined-btn">Joined</button>
        <% } else { %>
          <button class="details-join-btn" id="<%= events._id %>" name="<%= events._id %>" formmethod="post" formaction="/joinEvent" onclick="joinToJoinedDetail('<%= events.id %>')">Join</button>
        <% } %>

      <% } %>

      <!-- share icons; sharelink; custom buttons -->
      <!-- inline buttons from sharelink had a lot of preset css and didn't work well with our mobile window, so custom buttons are set up here and used. If you need to modify something on this section but can't understand about this, please ask Young.
      (styles are in 'eventdetails.css') -->
      <div class="sharelink-container">
        <div class="st-custom-button share-button" data-network="facebook">
          <img alt="facebook sharing button" src="https://platform-cdn.sharethis.com/img/facebook.svg">
        </div>
        <div class="st-custom-button share-button" data-network="twitter">
          <img alt="twitter sharing button" src="https://platform-cdn.sharethis.com/img/twitter.svg">
        </div>
        <div class="st-custom-button share-button" data-network="linkedin">
          <img alt="linkedin sharing button" src="https://platform-cdn.sharethis.com/img/linkedin.svg">
        </div>
        <div class="st-custom-button share-button" data-network="whatsapp">
          <img alt="whatsapp sharing button" src="https://platform-cdn.sharethis.com/img/whatsapp.svg">
        </div>
        <div class="st-custom-button share-button" data-network="wechat">
          <img alt="wechat sharing button" src="https://platform-cdn.sharethis.com/img/wechat.svg">
        </div>
        <div class="st-custom-button share-button" data-network="reddit">
          <img alt="reddit sharing button" src="https://platform-cdn.sharethis.com/img/reddit.svg">
        </div>
        <div class="st-custom-button share-button" data-network="email">
          <img alt="email sharing button" src="https://platform-cdn.sharethis.com/img/email.svg">
        </div>
      </div>

    </div>
  </main>

  <!-- extra images to make side images positioned well (on pc window) -->
  <figure class="figure-details-bg-left"></figure>
  <figure class="figure-details-bg-right"></figure>

  <!-- footer including sitemap -->
  <%- include('../partials/sitemap'); %>
</div>

<!-- page specific script files -->
<script type='text/javascript' src='https://code.jquery.com/jquery-3.5.0.min.js'></script>
<script src="/src/assets/js/event_controls.js" async></script>


